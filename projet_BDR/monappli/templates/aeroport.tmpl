<html>
<head> 
   <title>Les aéroports référencés</title>
   <style>
      body{font-family:Arial;
           margin : 10px 20px 10px;
           font-size:16px;}

      h1 {text-align:center;
          color:#d47217;}

      a{color:black;
        text-decoration:none;}
 
      table.mon_tableau {border-collapse: collapse;}
      table.mon_tableau td {border: 1px solid #5555;
                            padding: 9px;
                            font-family: "Sans-serif";
                            font-size: 12px;}

      table.mon_tableau tr:nth-child(even){background: #EEE}
      table.mon_tableau tr:nth-child(odd) {background: #FFF}
  </style>
</head>

<body>
   <a href="{% url 'accueil'%}">Retour à l'accueil</a>
   </br>
   <a href="{% url 'donnees'%}">Retour aux données</a>
   </br>
   <h1>Aéroports référencés</h1>
   {% if rien %}
      Aucun aéroport ne correspond à votre recherche !
   {% else %}
   <form method="get">
	  Nom de l'aéroport : <input type="search" name="aero">

	  Code <input type="radio" name="co" value="iata"><label for="iata">IATA</label>
               <input type="radio" name="co" value="oaci"><label for="oaci">OACI :</label>
	       <input type="search" name="code">

	  Localisation <input type="checkbox" name="chercher_ville" ><label for="chercher_ville">Ville</label>
	  	       <input type="checkbox" name="chercher_pays" ><label for="chercher_pays">Pays :</label>
		       <input type="search" name="vipa">

	  <input type="submit" value="Rechercher" >
   </form>

   <table class="mon_tableau">
      <p>{{nb}} aéroports affichés</p>
      <tr><td><b>Aéroport</b></td><td><b>Code IATA</b></td><td><b>Code OACI</b></td><td><b>Latitude</b></td><td><b>Longitude</b></td><td><b>Altitude</b></td><td><b>Ville</b></td><td><b>Pays</b></td></tr>
      {% for a in aeroport %}
         {% ifnotequal 'Unknown' a.nom_aeroport %}
            <tr>
                <td>{{ a.nom_aeroport }} </td>

                {% ifequal 'nan' a.iata %}
                   <td> </td>
                {% else %}
                   <td>{{ a.iata }} </td>
                {% endifequal %}

                {% ifequal 'nan' a.oaci %}
                   <td> </td>
                {% else %}
                   <td>{{ a.oaci }} </td>
                {% endifequal %}

                {% ifequal None a.latitude %}
                   <td> </td>
                {% else %}
                   <td>{{ a.latitude }} </td>
                {% endifequal %}

                {% ifequal None a.longitude %}
                   <td> </td>
                {% else %}
                   <td>{{ a.longitude }} </td>
                {% endifequal %}

                {% ifequal None a.altitude %}
                   <td> </td>
                {% else %}
                   <td>{{ a.altitude }} </td>
                {% endifequal %}

                {% ifequal 'Unknown' a.ville.nom_ville %}
                   <td> </td>
                {% else %}
                   <td>{{ a.ville.nom_ville}} </td>
                {% endifequal %}

                {% ifequal 'Unknown' a.ville.nom_pays.nom_pays%}
                   <td> </td>
                {% else %}
                   <td>{{ a.ville.nom_pays.nom_pays }} </td>
                {% endifequal %}
            </tr>
         {% endifnotequal %}
      {% endfor %}
   </table>
   {% endif %}
</body>
</html>
